<div *ngIf="conversations">
  <select class="select-option" required [(ngModel)]="selectedConversation">
    <option class="option" *ngFor="let item of conversations | keyvalue" [value]="item.key">
      {{ item.value.remoteUsername }} - {{ item.value.messages.length }} messages
    </option>
  </select>

  <div *ngIf="selectedConversation != null">
    <div *ngFor="let m of conversations[selectedConversation].messages">
      <p>
        <span [ngClass]="m.sender === conversations[selectedConversation].localUsername ? 'local-sender' : 'remote-sender'">{{
          m.sender }}</span>
        (<span class="timestamp">{{ m.timestamp }}</span>):
        <span class="contents" [innerHTML]="m.contents"></span>
      </p>
    </div>
  </div>
</div>